---
title: Javaの文法
date: 2019-10-09
tags: ["サンプル", "チュートリアル"]
excerpt: これは抜粋です。
---

## ブロック

ブロック内には、複数の文を記述することができます。変数の有効範囲（「スコープ」という）は、そのブロック内のみとなります。  

~~~java
public static void main(String[] args) {
    {
        // ブロック内で変数vを宣言
        int v = 31;
        // ブロック内では参照可能
        System.out.println("v = " + v);
    }
    // ブロックを抜けたため、変数vはここでは参照できない
    // System.out.println("v = " + v);
    // メソッド内のみで有効な変数xを宣言
    int x = 0;
    // for文のブロック内でのみ有効な変数yを宣言
    for (int y = 0; y < 2; y++) {
        // for文のブロック内でのみ有効な変数zを宣言
        int z = 0;
        System.out.println(
        "x = " + x++ + ", y = " + y + ", z = " + z++);
    }
    System.out.println("x = " + x); // 参照可
    // for文のブロックを抜けたため、変数y、変数zはここでは参照できない
    // System.out.println("y = " + y);
    // System.out.println("z = " + z);
}
~~~
ブロック内に記述できるのは、「文」と「局所変数宣言文」と「クラス宣言」だけです。  
処理上、ブロックは通常の文とみなされます。そのため、「for」文や「if」文などでよく使われます。  
メソッド内に「for」文や「if」文などと関係のないブロックを記述することも可能です。クラス宣言部の中、メソッドの外にブロックを記述すると初期化ブロックとなります。

## 識別子

コード中にクラス、メソッド、変数、パッケージ、ラベルなどを定義していきます。これらの名前を「識別子」といいます。
文字列をコンソールに表示する
~~~java
System.out.println（"Hello"）;
~~~

- 「System」はクラス名
- 「out」はフィールド名（変数名）
- 「println」はメソッド名  
それぞれ識別子です。

識別子には、次の文字が使えます。
- 半角アルファベットの大文字・小文字
- 半角数字
- 「$」「_ 」
- 読点などの一部例外を除くUnicode文字（全角文字）

一般的にメソッド名、変数名は小文字+数字で単語の境目の部分だけを大文字にします。  
例「getCode」「familyName」など。  

クラス名は、それに加えて先頭の文字を大文字にします。  
例「TranslateText」など。  

ラベルの場合は、すべて大文字で定義します。  
例「OUTER」など。  

パッケージ名は、すべて小文字で定義します。  
例「jp.sample.test」など。  

## 変数

値や、インスタンスを入れる箱のことを「変数」といいます。  
値を入れる変数のことをプリミティブ型変数（基本型変数）、インスタンスを入れる変数のことを参照型変数といいます。  
どちらの場合も「型名 変数名」の形で宣言します。  

~~~java
int val; // プリミティブ型
String str; // 参照型
~~~

## プリミティブ型変数

プリミティブ型とはデータだけを持つ型で、インスタンスではありません。  
次の8つがJavaのプリミティブ型のすべてです。  

- boolean
- char
- byte
- short
- int
- long
- float
- double

## 参照型変数

「インスタンスを入れる変数」の表現は正確ではありません。  
実際には変数内にインスタンスが入っているわけではなく、メモリのどこかにあるインスタンスの場所（インスタンスの参照）を格納している変数です。 
参照型変数の型は、Javaで最初から用意されているクラス、Webで公開されているクラス、これから自分で作るクラスなど膨大な数になります。  

## 変数修飾子

変数の前には、次の修飾子を付けることができます。  
- アクセス指定子
- final
- volatile
- transient
- static

「final」以外の修飾子は、フィールドでのみ使うことができます。  
「final」を付けて宣言した変数には、最初に値を代入した後は他の値を代入することはできません。  

~~~java
final StringBuilder buf = new StringBuilder();
// インスタンス内のデータの変更は可能
buf.append("ABC");
// 他のインスタンスを代入することはできない
// コンパイルエラーになる
buf = new StringBuilder();
~~~

## 代入

宣言した変数には、値を代入することができます。宣言と同時に代入することも可能です。  
一度、宣言したら、基本的にその変数にはその型の値、または、インスタンスしか代入することはできません。  
演算子「=」の左辺にこれから値を設定する変数、右辺に代入する値もしくは変数を記述します。  
左辺にリテラルデータを記述することはできません。  

~~~java
// int型に整数はそのまま代入できる
// 宣言と同時に代入も可能
int val = 123;
// int型に真偽型を代入することはできない
// コンパイルエラーになる
val = false;
~~~

プリミティブ型の場合、変数の中に値を直接、格納します。
~~~java
int val = 780;
char ch = 'あ';
~~~

